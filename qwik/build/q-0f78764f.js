import{d as r,F as c,H as l,g as t}from"./q-71956c83.js";const o=[{text:"Vercel Edge Adapter",id:"vercel-edge-adapter",level:1},{text:"Installation",id:"installation",level:2},{text:"Production build",id:"production-build",level:2},{text:"Dev deploy",id:"dev-deploy",level:2},{text:"Production deploy",id:"production-deploy",level:2},{text:"Advanced",id:"advanced",level:2},{text:"Vercel Edge Entry Middleware",id:"vercel-edge-entry-middleware",level:3},{text:"Vercel Edge Functions",id:"vercel-edge-functions",level:3}],s={title:"Qwik City - Vercel Edge Adapter and Middleware",meta:[],styles:[],links:[],frontmatter:{contributors:["adamdbradley","manucorporat","hamatoyogi","reemardelarosa","mhevery"]}},h={title:"Qwik City - Vercel Edge Adapter and Middleware",contributors:["adamdbradley","manucorporat","hamatoyogi","reemardelarosa","mhevery"]};function d(n){const e=Object.assign({h1:"h1",a:"a",span:"span",p:"p",h2:"h2",code:"code",div:"div",pre:"pre",blockquote:"blockquote",h3:"h3"},n.components);return l(t,{children:[l(e.h1,{id:"vercel-edge-adapter",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#vercel-edge-adapter",children:l(e.span,{class:"icon icon-link"})}),"Vercel Edge Adapter"]}),`
`,l(e.p,{children:["Qwik City Vercel Edge adapter allows you to connect Qwik City to ",l(e.a,{href:"https://vercel.com/docs/concepts/functions/edge-functions",children:"Vercel Edge Functions"}),"."]}),`
`,l(e.h2,{id:"installation",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#installation",children:l(e.span,{class:"icon icon-link"})}),"Installation"]}),`
`,l(e.p,{children:["To integrate the ",l(e.code,{children:"vercel-edge"})," adapter, use the ",l(e.code,{children:"add"})," command:"]}),`
`,l(e.div,{"data-rehype-pretty-code-fragment":"",children:l(e.pre,{"data-language":"shell","data-theme":"default",children:l(e.code,{"data-language":"shell","data-theme":"default",children:l(e.span,{class:"line",children:[l(e.span,{style:{color:"#DCDCAA"},children:"npm"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"run"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"qwik"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"add"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"vercel-edge"})]})})})}),`
`,l(e.blockquote,{children:[`
`,l(e.p,{children:["It will automatically install the required dependencies, including the ",l(e.a,{href:"https://vercel.com/docs/cli",children:"Vercel CLI"}),"."]}),`
`]}),`
`,l(e.p,{children:["The adapter will add a new ",l(e.code,{children:"vite.config.ts"})," within the ",l(e.code,{children:"adapters/"})," directory, and a new entry file will be created, such as:"]}),`
`,l(e.div,{"data-rehype-pretty-code-fragment":"",children:l(e.pre,{"data-language":"shell","data-theme":"default",children:l(e.code,{"data-language":"shell","data-theme":"default",children:[l(e.span,{class:"line",children:[l(e.span,{style:{color:"#DCDCAA"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"adapters/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"vercel-edge/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"        "}),l(e.span,{style:{color:"#DCDCAA"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"vite.config.ts"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#DCDCAA"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"src/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"entry.vercel-edge.tsx"})]})]})})}),`
`,l(e.p,{children:["Additionally, within the ",l(e.code,{children:"package.json"}),", the ",l(e.code,{children:"build.server"})," and ",l(e.code,{children:"deploy"})," scripts will be updated."]}),`
`,l(e.h2,{id:"production-build",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#production-build",children:l(e.span,{class:"icon icon-link"})}),"Production build"]}),`
`,l(e.p,{children:["To build the application for production, use the ",l(e.code,{children:"build"})," command, this command will automatically run ",l(e.code,{children:"npm run build.server"})," and ",l(e.code,{children:"npm run build.client"}),":"]}),`
`,l(e.div,{"data-rehype-pretty-code-fragment":"",children:l(e.pre,{"data-language":"shell","data-theme":"default",children:l(e.code,{"data-language":"shell","data-theme":"default",children:l(e.span,{class:"line",children:[l(e.span,{style:{color:"#DCDCAA"},children:"npm"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"run"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"build"})]})})})}),`
`,l(e.p,{children:l(e.a,{href:"https://github.com/BuilderIO/qwik/blob/main/starters/adapters/vercel-edge/README.md",children:"Read the full guide here"})}),`
`,l(e.h2,{id:"dev-deploy",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#dev-deploy",children:l(e.span,{class:"icon icon-link"})}),"Dev deploy"]}),`
`,l(e.p,{children:"To deploy the application for development:"}),`
`,l(e.div,{"data-rehype-pretty-code-fragment":"",children:l(e.pre,{"data-language":"shell","data-theme":"default",children:l(e.code,{"data-language":"shell","data-theme":"default",children:l(e.span,{class:"line",children:[l(e.span,{style:{color:"#DCDCAA"},children:"npm"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"run"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"deploy"})]})})})}),`
`,l(e.p,{children:["Notice that you might need a ",l(e.a,{href:"https://vercel.com/docs/concepts/get-started",children:"Vercel account"})," in order to complete this step!"]}),`
`,l(e.h2,{id:"production-deploy",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#production-deploy",children:l(e.span,{class:"icon icon-link"})}),"Production deploy"]}),`
`,l(e.p,{children:["After installing the integration using ",l(e.code,{children:"npm run qwik add vercel-edge"}),", the project is ready to be deployed to Vercel. However, you will need to create a git repository and push the code to it."]}),`
`,l(e.p,{children:["Please refer to the Vercel docs for more information on how to deploy your site: ",l(e.a,{href:"https://vercel.com/docs/concepts/deployments/overview",children:"Vercel docs"})]}),`
`,l(e.h2,{id:"advanced",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#advanced",children:l(e.span,{class:"icon icon-link"})}),"Advanced"]}),`
`,l(e.h3,{id:"vercel-edge-entry-middleware",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#vercel-edge-entry-middleware",children:l(e.span,{class:"icon icon-link"})}),"Vercel Edge Entry Middleware"]}),`
`,l(e.p,{children:["When the ",l(e.code,{children:"vercel-edge"})," adapter is added, a new entry file will be created at ",l(e.code,{children:"src/entry.vercel-edge.tsx"}),". Below is an example of using the built-in middleware within the entry file."]}),`
`,l(e.div,{"data-rehype-pretty-code-fragment":"",children:[l(e.div,{"data-rehype-pretty-code-title":"","data-language":"tsx","data-theme":"default",children:"src/entry.vercel-edge.tsx"}),l(e.pre,{"data-language":"tsx","data-theme":"default",children:l(e.code,{"data-language":"tsx","data-theme":"default",children:[l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"import"}),l(e.span,{style:{color:"#D4D4D4"},children:" { "}),l(e.span,{style:{color:"#9CDCFE"},children:"createQwikCity"}),l(e.span,{style:{color:"#D4D4D4"},children:" } "}),l(e.span,{style:{color:"#C586C0"},children:"from"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"'@builder.io/qwik-city/middleware/vercel-edge'"}),l(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"import"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#9CDCFE"},children:"qwikCityPlan"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#C586C0"},children:"from"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"'@qwik-city-plan'"}),l(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"import"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#9CDCFE"},children:"render"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#C586C0"},children:"from"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"'./entry.ssr'"}),l(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,l(e.span,{class:"line",children:" "}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"export"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#C586C0"},children:"default"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#DCDCAA"},children:"createQwikCity"}),l(e.span,{style:{color:"#D4D4D4"},children:"({ "}),l(e.span,{style:{color:"#9CDCFE"},children:"render"}),l(e.span,{style:{color:"#D4D4D4"},children:", "}),l(e.span,{style:{color:"#9CDCFE"},children:"qwikCityPlan"}),l(e.span,{style:{color:"#D4D4D4"},children:" });"})]})]})})]}),`
`,l(e.p,{children:["The compiled middleware will be built in the ",l(e.code,{children:".vercel/output"})," directory."]}),`
`,l(e.h3,{id:"vercel-edge-functions",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#vercel-edge-functions",children:l(e.span,{class:"icon icon-link"})}),"Vercel Edge Functions"]}),`
`,l(e.p,{children:[l(e.a,{href:"https://vercel.com/docs/concepts/functions/edge-functions",children:"Vercel Edge Functions"})," are deployed globally by default on Vercel's Edge Network and enable you to move server-side logic to the Edge, close to your visitor's origin."]}),`
`,l(e.p,{children:"Edge Functions use the Vercel Edge Runtime, which is built on the same high-performance V8 JavaScript and WebAssembly engine that is used by the Chrome browser. By taking advantage of this small runtime, Edge Functions can have faster cold boots and higher scalability than Serverless Functions."}),`
`,l(e.p,{children:"Edge Functions run after the cache, and can both cache and return responses."})]})}function i(n={}){const{wrapper:e}=n.components||{};return e?l(e,Object.assign({},n,{children:l(d,n)})):d(n)}const p=()=>r(c,{children:r(i,{},3,null)},3,"WLtWTy_X");export{p as default,h as frontmatter,s as head,o as headings};
