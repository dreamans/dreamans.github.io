import{l as I,j as b,e as R,B as w,M as y,f as C,d as m,c as E,v,w as r,s as c,g as M,_ as d,i as u,$ as T}from"./q-71956c83.js";import{D as L,E as V,c as K,F as S,G as j,k as O,H as A,j as D,I as x,J as g,K as f,L as F,M as W,p as Y,N as q,O as B,P as U,Q as H,_ as J,T as $,U as G,V as P,W as h}from"./q-5476fcbc.js";const N=s=>{I();const n=b(),e=R({allRegisteredComponents:[...L(),...V,...s.customComponents||[]].reduce((t,o)=>({...t,[o.name]:o}),{}),canTrackToUse:K(s.canTrack)?s.canTrack:!0,clicked:!1,contentState:S({content:s.content,data:s.data,locale:s.locale}),forceReRenderCount:0,httpReqsData:{},overrideContent:null,update:0,useContent:j({content:s.content,data:s.data})},{deep:!0});return w(O,R({content:e.useContent,localState:void 0,rootState:e.contentState,rootSetState:void 0,context:s.context||{},apiKey:s.apiKey,apiVersion:s.apiVersion,registeredComponents:e.allRegisteredComponents,inheritedStyles:{}})),y(c(()=>d(()=>Promise.resolve().then(()=>l),void 0),"s_n50dgqWW6pY",[n,s,e])),C(c(()=>d(()=>Promise.resolve().then(()=>l),void 0),"s_Kulmlf9pM08",[n,s,e])),C(c(()=>d(()=>Promise.resolve().then(()=>l),void 0),"s_X59YMGOetns",[n,s,e])),C(c(()=>d(()=>Promise.resolve().then(()=>l),void 0),"s_u3gn3Pj2b2s",[n,s,e])),C(c(()=>d(()=>Promise.resolve().then(()=>l),void 0),"s_xLCHvjhJYRM",[n,s,e])),m(M,{children:e.useContent?E("div",{ref:n},{"builder-content-id":r(t=>{var o;return(o=t.useContent)==null?void 0:o.id},[e],"p0.useContent?.id"),"builder-model":r(t=>t.model,[s],"p0.model"),onClick$:c(()=>d(()=>Promise.resolve().then(()=>l),void 0),"s_wLg5o3ZkpC0",[n,s,e])},[m(A,{get contentId(){var t;return(t=e.useContent)==null?void 0:t.id},get cssCode(){var t,o;return(o=(t=e.useContent)==null?void 0:t.data)==null?void 0:o.cssCode},get customFonts(){var t,o;return(o=(t=e.useContent)==null?void 0:t.data)==null?void 0:o.customFonts},[v]:{contentId:r(t=>{var o;return(o=t.useContent)==null?void 0:o.id},[e],"p0.useContent?.id"),cssCode:r(t=>{var o,a;return(a=(o=t.useContent)==null?void 0:o.data)==null?void 0:a.cssCode},[e],"p0.useContent?.data?.cssCode"),customFonts:r(t=>{var o,a;return(a=(o=t.useContent)==null?void 0:o.data)==null?void 0:a.customFonts},[e],"p0.useContent?.data?.customFonts")}},3,"03_0"),m(D,{get blocks(){var t,o;return(o=(t=e.useContent)==null?void 0:t.data)==null?void 0:o.blocks},[v]:{blocks:r(t=>{var o,a;return(a=(o=t.useContent)==null?void 0:o.data)==null?void 0:a.blocks},[e],"p0.useContent?.data?.blocks")}},3,e.forceReRenderCount)],1,"03_1"):null},1,"03_2")},X=s=>{const[n,e,t]=u();return x(e,t,n,s)},Z=({track:s})=>{const[n,e,t]=u();s(()=>t.contentState),g(e,t)},z=({track:s})=>{const[n,e,t]=u();s(()=>{var o,a;return(a=(o=t.useContent)==null?void 0:o.data)==null?void 0:a.httpRequests}),f(e,t,n)},Q=()=>{var t,o;const[s,n,e]=u();if(n.apiKey||F.error("No API key provided to `RenderContent` component. This can cause issues. Please provide an API key using the `apiKey` prop."),W()){if(Y()&&(e.forceReRenderCount=e.forceReRenderCount+1,q(),B({...n.locale?{locale:n.locale}:{},...n.includeRefs?{includeRefs:n.includeRefs}:{}}),Object.values(e.allRegisteredComponents).forEach(a=>{var _;const i=U(a);(_=window.parent)==null||_.postMessage(i,"*")}),window.addEventListener("message",H.bind(null,n,e,s)),window.addEventListener("builder:component:stateChangeListenerActivated",g.bind(null,n,e,s))),e.useContent){const a=(t=e.useContent)==null?void 0:t.testVariationId,i=(o=e.useContent)==null?void 0:o.id;J({type:"impression",canTrack:e.canTrackToUse,contentId:i,apiKey:n.apiKey,variationId:a!==i?a:void 0})}if($()){const a=new URL(location.href).searchParams,i=a.get("builder.preview"),_=a.get(`builder.preview.${i}`),k=a.get("apiKey")||a.get("builder.space");i===n.model&&k===n.apiKey&&(!n.content||_===n.content.id)&&G({model:n.model,apiKey:n.apiKey,apiVersion:n.apiVersion}).then(p=>{p&&P(n,e,s,p)})}h(n,e,s),f(n,e,s),g(n,e)}},ee=({track:s})=>{const[n,e,t]=u();s(()=>e.content),e.content&&P(e,t,n,e.content)},te=({track:s})=>{const[n,e,t]=u();s(()=>{var o,a;return(a=(o=t.useContent)==null?void 0:o.data)==null?void 0:a.jsCode}),s(()=>t.contentState),h(e,t,n)},l=Object.freeze(Object.defineProperty({__proto__:null,_hW:T,s_Kulmlf9pM08:ee,s_X59YMGOetns:te,s_hEAI0ahViXM:N,s_n50dgqWW6pY:Q,s_u3gn3Pj2b2s:z,s_wLg5o3ZkpC0:X,s_xLCHvjhJYRM:Z},Symbol.toStringTag,{value:"Module"}));export{T as _hW,ee as s_Kulmlf9pM08,te as s_X59YMGOetns,N as s_hEAI0ahViXM,Q as s_n50dgqWW6pY,z as s_u3gn3Pj2b2s,X as s_wLg5o3ZkpC0,Z as s_xLCHvjhJYRM};
