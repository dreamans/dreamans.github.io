import{d as r,F as c,H as l,g as o}from"./q-71956c83.js";const a=[{text:"Routing",id:"routing",level:1},{text:"Directory-based routing",id:"directory-based-routing",level:2},{text:"Dynamic route segments",id:"dynamic-route-segments",level:3},{text:"index. files",id:"index-files",level:2},{text:"Page index.tsx",id:"page-indextsx",level:3},{text:"Endpoint index.ts",id:"endpoint-indexts",level:3},{text:"Page + Endpoint",id:"page--endpoint",level:3},{text:"layout. files",id:"layout-files",level:2},{text:"Middleware layouts",id:"middleware-layouts",level:3},{text:"Nested layouts",id:"nested-layouts",level:3},{text:"SPA navigation",id:"spa-navigation",level:2},{text:"Refreshing",id:"refreshing",level:3},{text:"Request Event",id:"request-event",level:2},{text:"Advanced routing",id:"advanced-routing",level:2}],d={title:"Qwik City - Routing",meta:[],styles:[],links:[],frontmatter:{contributors:["manucorporat","nnelgxorz","the-r3aper7","Oyemade","mhevery","adamdbradley","wtlin1228","AnthonyPAlicea"]}},h={title:"Qwik City - Routing",contributors:["manucorporat","nnelgxorz","the-r3aper7","Oyemade","mhevery","adamdbradley","wtlin1228","AnthonyPAlicea"]};function s(n){const e=Object.assign({h1:"h1",a:"a",span:"span",p:"p",code:"code",ul:"ul",li:"li",strong:"strong",h2:"h2",div:"div",pre:"pre",h3:"h3",blockquote:"blockquote",ol:"ol"},n.components);return l(o,{children:[l(e.h1,{id:"routing",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#routing",children:l(e.span,{class:"icon icon-link"})}),"Routing"]}),`
`,l(e.p,{children:["Routing in Qwik City is file-system based like ",l(e.a,{href:"https://nextjs.org/docs/routing/introduction",children:"Next.js"}),", ",l(e.a,{href:"https://kit.svelte.dev/docs/routing",children:"SvelteKit"}),", ",l(e.a,{href:"https://start.solidjs.com/core-concepts/routing",children:"SolidStart"})," or ",l(e.a,{href:"https://remix.run/docs/en/main/guides/routing",children:"Remix"}),". Files and directories in the ",l(e.code,{children:"src/routes"})," have a role in the routing of your application."]}),`
`,l(e.ul,{children:[`
`,l(e.li,{children:[l(e.strong,{children:"📂 Directories:"})," Describe the URL segments to match by the router."]}),`
`,l(e.li,{children:[l(e.strong,{children:"📄 index. files:"})," Page/endpoint."]}),`
`,l(e.li,{children:[l(e.strong,{children:"🖼️ layout. files:"})," Nested layout/middleware."]}),`
`]}),`
`,l(e.h2,{id:"directory-based-routing",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#directory-based-routing",children:l(e.span,{class:"icon icon-link"})}),"Directory-based routing"]}),`
`,l(e.p,{children:"Only the directory names are used to match the incoming requests to pages/endpoints."}),`
`,l(e.p,{children:["For example, if you have a file at ",l(e.code,{children:"src/routes/some/path/index.tsx"}),", it will be mapped to the URL path ",l(e.code,{children:"https://example.com/some/path"}),"."]}),`
`,l(e.div,{"data-rehype-pretty-code-fragment":"",children:l(e.pre,{"data-language":"bash","data-theme":"default",children:l(e.code,{"data-language":"bash","data-theme":"default",children:[l(e.span,{class:"line",children:l(e.span,{style:{color:"#DCDCAA"},children:"src/"})}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#DCDCAA"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"routes/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"├──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"contact/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"│"}),l(e.span,{style:{color:"#D4D4D4"},children:"   "}),l(e.span,{style:{color:"#CE9178"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"index.mdx"}),l(e.span,{style:{color:"#D4D4D4"},children:"         "}),l(e.span,{style:{color:"#6A9955"},children:"# https://example.com/contact"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"├──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"about/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"│"}),l(e.span,{style:{color:"#D4D4D4"},children:"   "}),l(e.span,{style:{color:"#CE9178"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"index.md"}),l(e.span,{style:{color:"#D4D4D4"},children:"          "}),l(e.span,{style:{color:"#6A9955"},children:"# https://example.com/about"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"├──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"docs/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"│"}),l(e.span,{style:{color:"#D4D4D4"},children:"   "}),l(e.span,{style:{color:"#CE9178"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" [id]/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"│"}),l(e.span,{style:{color:"#D4D4D4"},children:"       "}),l(e.span,{style:{color:"#CE9178"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"index.ts"}),l(e.span,{style:{color:"#D4D4D4"},children:"      "}),l(e.span,{style:{color:"#6A9955"},children:"# https://example.com/docs/1234"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"│"}),l(e.span,{style:{color:"#D4D4D4"},children:"                         "}),l(e.span,{style:{color:"#6A9955"},children:"# https://example.com/docs/anything"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"├──"}),l(e.span,{style:{color:"#D4D4D4"},children:" [...catchall]/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"│"}),l(e.span,{style:{color:"#D4D4D4"},children:"   "}),l(e.span,{style:{color:"#CE9178"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"index.tsx"}),l(e.span,{style:{color:"#D4D4D4"},children:"         "}),l(e.span,{style:{color:"#6A9955"},children:"# https://example.com/anything/else/that/didnt/match"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"│"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"layout.tsx"}),l(e.span,{style:{color:"#D4D4D4"},children:"            "}),l(e.span,{style:{color:"#6A9955"},children:"# This layout is used for all pages"})]})]})})}),`
`,l(e.ul,{children:[`
`,l(e.li,{children:[l(e.strong,{children:l(e.code,{children:"[id]"})})," is a directory that represents a dynamic route segment, in this example ",l(e.code,{children:"id"})," is the string parameter accessible by ",l(e.code,{children:"getLocation().params.id"}),"."]}),`
`,l(e.li,{children:[l(e.strong,{children:l(e.code,{children:"[...catchall]"})})," is a directory that represents a dynamic catch-all route, in this example ",l(e.code,{children:"catchall"})," is the string parameter accessible by ",l(e.code,{children:"getLocation().params.catchall"}),"."]}),`
`,l(e.li,{children:[l(e.strong,{children:[l(e.code,{children:"index.tsx|mdx"})," files"]})," are the pages/endpoints."]}),`
`,l(e.li,{children:[l(e.strong,{children:[l(e.code,{children:"layout.tsx"})," files"]})," are the layouts."]}),`
`]}),`
`,l(e.h3,{id:"dynamic-route-segments",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#dynamic-route-segments",children:l(e.span,{class:"icon icon-link"})}),"Dynamic route segments"]}),`
`,l(e.p,{children:["Special named directories with square brackets, such as ",l(e.code,{children:"[paramName]"})," and ",l(e.code,{children:"[...catchAll]"})," can be used to match route segments which are dynamic:"]}),`
`,l(e.pre,{children:l(e.code,{children:`src/routes/blog/index.tsx → /blog
src/routes/user/[username]/index.tsx → /user/:username (/user/foo)
src/routes/post/[...all]/index.tsx → /post/* (/post/2020/id/title)
`})}),`
`,l(e.div,{"data-rehype-pretty-code-fragment":"",children:l(e.pre,{"data-language":"bash","data-theme":"default",children:l(e.code,{"data-language":"bash","data-theme":"default",children:[l(e.span,{class:"line",children:l(e.span,{style:{color:"#DCDCAA"},children:"src/"})}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#DCDCAA"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"routes/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"├──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"blog/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"│"}),l(e.span,{style:{color:"#D4D4D4"},children:"   "}),l(e.span,{style:{color:"#CE9178"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"index.tsx"}),l(e.span,{style:{color:"#D4D4D4"},children:"         "}),l(e.span,{style:{color:"#6A9955"},children:"# https://example.com/blog"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"├──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"post/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"│"}),l(e.span,{style:{color:"#D4D4D4"},children:"   "}),l(e.span,{style:{color:"#CE9178"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" [...all]/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"│"}),l(e.span,{style:{color:"#D4D4D4"},children:"       "}),l(e.span,{style:{color:"#CE9178"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"index.tsx"}),l(e.span,{style:{color:"#D4D4D4"},children:"     "}),l(e.span,{style:{color:"#6A9955"},children:"# https://example.com/post/2020/id/title"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"user/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"        "}),l(e.span,{style:{color:"#DCDCAA"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" [username]/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"            "}),l(e.span,{style:{color:"#DCDCAA"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"index.tsx"}),l(e.span,{style:{color:"#D4D4D4"},children:"     "}),l(e.span,{style:{color:"#6A9955"},children:"# https://example.com/user/foo"})]})]})})}),`
`,l(e.blockquote,{children:[`
`,l(e.p,{children:["The folder ",l(e.code,{children:"[username]"})," can be any of the thousands of users that you have in your database. It would be impractical to create a route for each user. Instead, you need to define a Route Parameter (a part of the URL) that will be used to extract the ",l(e.code,{children:"[username]"}),"."]}),`
`]}),`
`,l(e.div,{"data-rehype-pretty-code-fragment":"",children:[l(e.div,{"data-rehype-pretty-code-title":"","data-language":"tsx","data-theme":"default",children:"src/routes/user/[username]/index.tsx"}),l(e.pre,{"data-language":"tsx","data-theme":"default",children:l(e.code,{"data-language":"tsx","data-theme":"default",children:[l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"import"}),l(e.span,{style:{color:"#D4D4D4"},children:" { "}),l(e.span,{style:{color:"#9CDCFE"},children:"component$"}),l(e.span,{style:{color:"#D4D4D4"},children:" } "}),l(e.span,{style:{color:"#C586C0"},children:"from"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"'@builder.io/qwik'"}),l(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"import"}),l(e.span,{style:{color:"#D4D4D4"},children:" { "}),l(e.span,{style:{color:"#9CDCFE"},children:"useLocation"}),l(e.span,{style:{color:"#D4D4D4"},children:" } "}),l(e.span,{style:{color:"#C586C0"},children:"from"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"'@builder.io/qwik-city'"}),l(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,l(e.span,{class:"line",children:" "}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"export"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#C586C0"},children:"default"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#DCDCAA"},children:"component$"}),l(e.span,{style:{color:"#D4D4D4"},children:"(() "}),l(e.span,{style:{color:"#569CD6"},children:"=>"}),l(e.span,{style:{color:"#D4D4D4"},children:" {"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"  "}),l(e.span,{style:{color:"#569CD6"},children:"const"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#4FC1FF"},children:"loc"}),l(e.span,{style:{color:"#D4D4D4"},children:" = "}),l(e.span,{style:{color:"#DCDCAA"},children:"useLocation"}),l(e.span,{style:{color:"#D4D4D4"},children:"();"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"  "}),l(e.span,{style:{color:"#C586C0"},children:"return"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#808080"},children:"<"}),l(e.span,{style:{color:"#569CD6"},children:"div"}),l(e.span,{style:{color:"#808080"},children:">"}),l(e.span,{style:{color:"#D4D4D4"},children:"Hello "}),l(e.span,{style:{color:"#569CD6"},children:"{"}),l(e.span,{style:{color:"#9CDCFE"},children:"loc"}),l(e.span,{style:{color:"#D4D4D4"},children:"."}),l(e.span,{style:{color:"#9CDCFE"},children:"params"}),l(e.span,{style:{color:"#D4D4D4"},children:"."}),l(e.span,{style:{color:"#9CDCFE"},children:"username"}),l(e.span,{style:{color:"#569CD6"},children:"}"}),l(e.span,{style:{color:"#D4D4D4"},children:"!"}),l(e.span,{style:{color:"#808080"},children:"</"}),l(e.span,{style:{color:"#569CD6"},children:"div"}),l(e.span,{style:{color:"#808080"},children:">"}),l(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,l(e.span,{class:"line",children:l(e.span,{style:{color:"#D4D4D4"},children:"});"})})]})})]}),`
`,l(e.h2,{id:"index-files",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#index-files",children:l(e.span,{class:"icon icon-link"})}),l(e.code,{children:"index."})," files"]}),`
`,l(e.p,{children:["Inside the ",l(e.code,{children:"src/routes"})," directory, all files named ",l(e.code,{children:"index"})," are considered pages/endpoints, Qwik supports the following extensions: ",l(e.code,{children:".ts"}),", ",l(e.code,{children:".tsx"}),", ",l(e.code,{children:".md"})," and ",l(e.code,{children:".mdx"}),"."]}),`
`,l(e.p,{children:["Pages/endpoints are the leaf nodes of the routing tree, ie, ",l(e.strong,{children:"the modules that will handle the request and return an HTTP response"}),"."]}),`
`,l(e.h3,{id:"page-indextsx",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#page-indextsx",children:l(e.span,{class:"icon icon-link"})}),"Page ",l(e.code,{children:"index.tsx"})]}),`
`,l(e.p,{children:["When ",l(e.code,{children:"index.tsx"})," or ",l(e.code,{children:"index.ts"})," exports a Qwik component as the default export, Qwik City will render the component and return an HTML response as a webpage."]}),`
`,l(e.div,{"data-rehype-pretty-code-fragment":"",children:[l(e.div,{"data-rehype-pretty-code-title":"","data-language":"tsx","data-theme":"default",children:"src/routes/index.tsx"}),l(e.pre,{"data-language":"tsx","data-theme":"default",children:l(e.code,{"data-language":"tsx","data-theme":"default",children:[l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"import"}),l(e.span,{style:{color:"#D4D4D4"},children:" { "}),l(e.span,{style:{color:"#9CDCFE"},children:"component$"}),l(e.span,{style:{color:"#D4D4D4"},children:" } "}),l(e.span,{style:{color:"#C586C0"},children:"from"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"'@builder.io/qwik'"}),l(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,l(e.span,{class:"line",children:" "}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"export"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#C586C0"},children:"default"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#DCDCAA"},children:"component$"}),l(e.span,{style:{color:"#D4D4D4"},children:"(() "}),l(e.span,{style:{color:"#569CD6"},children:"=>"}),l(e.span,{style:{color:"#D4D4D4"},children:" {"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"  "}),l(e.span,{style:{color:"#C586C0"},children:"return"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#808080"},children:"<"}),l(e.span,{style:{color:"#569CD6"},children:"h1"}),l(e.span,{style:{color:"#808080"},children:">"}),l(e.span,{style:{color:"#D4D4D4"},children:"Hello World"}),l(e.span,{style:{color:"#808080"},children:"</"}),l(e.span,{style:{color:"#569CD6"},children:"h1"}),l(e.span,{style:{color:"#808080"},children:">"}),l(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,l(e.span,{class:"line",children:l(e.span,{style:{color:"#D4D4D4"},children:"});"})})]})})]}),`
`,l(e.h3,{id:"endpoint-indexts",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#endpoint-indexts",children:l(e.span,{class:"icon icon-link"})}),"Endpoint ",l(e.code,{children:"index.ts"})]}),`
`,l(e.p,{children:["A ",l(e.code,{children:"index.ts"})," can also access the HTTP request directly and return a raw HTTP response without involving any Qwik Component. This is done by exporting an ",l(e.code,{children:"onRequest"})," method or ",l(e.code,{children:"onGet"}),", ",l(e.code,{children:"onPost"}),", ",l(e.code,{children:"onPut"}),", ",l(e.code,{children:"onDelete"})," depending on if you only want to handle a specific request given its HTTP method."]}),`
`,l(e.div,{"data-rehype-pretty-code-fragment":"",children:[l(e.div,{"data-rehype-pretty-code-title":"","data-language":"tsx","data-theme":"default",children:"src/routes/index.ts"}),l(e.pre,{"data-language":"tsx","data-theme":"default",children:l(e.code,{"data-language":"tsx","data-theme":"default",children:[l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"import"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#C586C0"},children:"type"}),l(e.span,{style:{color:"#D4D4D4"},children:" { "}),l(e.span,{style:{color:"#9CDCFE"},children:"RequestHandler"}),l(e.span,{style:{color:"#D4D4D4"},children:" } "}),l(e.span,{style:{color:"#C586C0"},children:"from"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"'@builder.io/qwik-city'"}),l(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,l(e.span,{class:"line",children:" "}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"export"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#569CD6"},children:"const"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#DCDCAA"},children:"onGet"}),l(e.span,{style:{color:"#D4D4D4"},children:": "}),l(e.span,{style:{color:"#4EC9B0"},children:"RequestHandler"}),l(e.span,{style:{color:"#D4D4D4"},children:" = ({ "}),l(e.span,{style:{color:"#9CDCFE"},children:"json"}),l(e.span,{style:{color:"#D4D4D4"},children:" }) "}),l(e.span,{style:{color:"#569CD6"},children:"=>"}),l(e.span,{style:{color:"#D4D4D4"},children:" {"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"  "}),l(e.span,{style:{color:"#DCDCAA"},children:"json"}),l(e.span,{style:{color:"#D4D4D4"},children:"("}),l(e.span,{style:{color:"#B5CEA8"},children:"200"}),l(e.span,{style:{color:"#D4D4D4"},children:", { "}),l(e.span,{style:{color:"#9CDCFE"},children:"message:"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"'Hello World'"}),l(e.span,{style:{color:"#D4D4D4"},children:" });"})]}),`
`,l(e.span,{class:"line",children:l(e.span,{style:{color:"#D4D4D4"},children:"};"})})]})})]}),`
`,l(e.blockquote,{children:[`
`,l(e.p,{children:"Notice that in the last example, there is no default export. This is because we are not rendering a Qwik component, but rather we are handling the request directly and returning a JSON response. This is useful to implement RESTful APIs or any other type of HTTP endpoint."}),`
`]}),`
`,l(e.h3,{id:"page--endpoint",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#page--endpoint",children:l(e.span,{class:"icon icon-link"})}),"Page + Endpoint"]}),`
`,l(e.p,{children:["As you can see in Qwik City there is no clear separation between pages and endpoints, in both cases, it's a ",l(e.code,{children:"index.tsx"})," file that exports a Qwik component or an ",l(e.code,{children:"onRequest"})," method. However, it's possible to combine both approaches. For example, you can export a ",l(e.code,{children:"onRequest"})," method that will handle the request, and then render a Qwik component."]}),`
`,l(e.div,{"data-rehype-pretty-code-fragment":"",children:[l(e.div,{"data-rehype-pretty-code-title":"","data-language":"tsx","data-theme":"default",children:"src/routes/index.tsx"}),l(e.pre,{"data-language":"tsx","data-theme":"default",children:l(e.code,{"data-language":"tsx","data-theme":"default",children:[l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"import"}),l(e.span,{style:{color:"#D4D4D4"},children:" { "}),l(e.span,{style:{color:"#9CDCFE"},children:"component$"}),l(e.span,{style:{color:"#D4D4D4"},children:" } "}),l(e.span,{style:{color:"#C586C0"},children:"from"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"'@builder.io/qwik'"}),l(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"import"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#C586C0"},children:"type"}),l(e.span,{style:{color:"#D4D4D4"},children:" { "}),l(e.span,{style:{color:"#9CDCFE"},children:"RequestHandler"}),l(e.span,{style:{color:"#D4D4D4"},children:" } "}),l(e.span,{style:{color:"#C586C0"},children:"from"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"'@builder.io/qwik-city'"}),l(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,l(e.span,{class:"line",children:" "}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"export"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#569CD6"},children:"const"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#DCDCAA"},children:"onRequest"}),l(e.span,{style:{color:"#D4D4D4"},children:": "}),l(e.span,{style:{color:"#4EC9B0"},children:"RequestHandler"}),l(e.span,{style:{color:"#D4D4D4"},children:" = ({ "}),l(e.span,{style:{color:"#9CDCFE"},children:"headers"}),l(e.span,{style:{color:"#D4D4D4"},children:", "}),l(e.span,{style:{color:"#9CDCFE"},children:"query"}),l(e.span,{style:{color:"#D4D4D4"},children:", "}),l(e.span,{style:{color:"#9CDCFE"},children:"json"}),l(e.span,{style:{color:"#D4D4D4"},children:" }) "}),l(e.span,{style:{color:"#569CD6"},children:"=>"}),l(e.span,{style:{color:"#D4D4D4"},children:" {"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"  "}),l(e.span,{style:{color:"#9CDCFE"},children:"headers"}),l(e.span,{style:{color:"#D4D4D4"},children:"."}),l(e.span,{style:{color:"#DCDCAA"},children:"set"}),l(e.span,{style:{color:"#D4D4D4"},children:"("}),l(e.span,{style:{color:"#CE9178"},children:"'Cache-Control'"}),l(e.span,{style:{color:"#D4D4D4"},children:", "}),l(e.span,{style:{color:"#CE9178"},children:"'private'"}),l(e.span,{style:{color:"#D4D4D4"},children:");"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"  "}),l(e.span,{style:{color:"#C586C0"},children:"if"}),l(e.span,{style:{color:"#D4D4D4"},children:" ("}),l(e.span,{style:{color:"#9CDCFE"},children:"query"}),l(e.span,{style:{color:"#D4D4D4"},children:"."}),l(e.span,{style:{color:"#DCDCAA"},children:"get"}),l(e.span,{style:{color:"#D4D4D4"},children:"("}),l(e.span,{style:{color:"#CE9178"},children:"'format'"}),l(e.span,{style:{color:"#D4D4D4"},children:") === "}),l(e.span,{style:{color:"#CE9178"},children:"'json'"}),l(e.span,{style:{color:"#D4D4D4"},children:") {"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"json"}),l(e.span,{style:{color:"#D4D4D4"},children:"("}),l(e.span,{style:{color:"#B5CEA8"},children:"200"}),l(e.span,{style:{color:"#D4D4D4"},children:", { "}),l(e.span,{style:{color:"#9CDCFE"},children:"message:"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"'Hello World'"}),l(e.span,{style:{color:"#D4D4D4"},children:" });"})]}),`
`,l(e.span,{class:"line",children:l(e.span,{style:{color:"#D4D4D4"},children:"  }"})}),`
`,l(e.span,{class:"line",children:l(e.span,{style:{color:"#D4D4D4"},children:"};"})}),`
`,l(e.span,{class:"line",children:" "}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"export"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#C586C0"},children:"default"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#DCDCAA"},children:"component$"}),l(e.span,{style:{color:"#D4D4D4"},children:"(() "}),l(e.span,{style:{color:"#569CD6"},children:"=>"}),l(e.span,{style:{color:"#D4D4D4"},children:" {"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"  "}),l(e.span,{style:{color:"#C586C0"},children:"return"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#808080"},children:"<"}),l(e.span,{style:{color:"#569CD6"},children:"h1"}),l(e.span,{style:{color:"#808080"},children:">"}),l(e.span,{style:{color:"#D4D4D4"},children:"Hello World"}),l(e.span,{style:{color:"#808080"},children:"</"}),l(e.span,{style:{color:"#569CD6"},children:"h1"}),l(e.span,{style:{color:"#808080"},children:">"}),l(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,l(e.span,{class:"line",children:l(e.span,{style:{color:"#D4D4D4"},children:"});"})})]})})]}),`
`,l(e.blockquote,{children:[`
`,l(e.p,{children:["In this example, a request handle will always set the ",l(e.code,{children:"Cache-Control"})," header to ",l(e.code,{children:"private"})," and the page will be rendered as an HTML page, but if the request contains a ",l(e.code,{children:"format=json"})," query param, the endpoint will return a JSON response instead."]}),`
`]}),`
`,l(e.h2,{id:"layout-files",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#layout-files",children:l(e.span,{class:"icon icon-link"})}),l(e.code,{children:"layout."})," files"]}),`
`,l(e.p,{children:["Layout modules are very similar to ",l(e.code,{children:"index"})," files, both can handle requests and render Qwik components, however, layouts are designed to work like a middleware, allowing to ",l(e.strong,{children:"share UI and request handling (middleware)"})," to a set of routes."]}),`
`,l(e.p,{children:["Usually, different pages need some common request handling and share some UI. For example, picture a dashboard site where all the pages are under the ",l(e.code,{children:"/admin/*"})," directory:"]}),`
`,l(e.ul,{children:[`
`,l(e.li,{children:[l(e.strong,{children:"Shared request handling:"})," The request cookies need to be validated before even rendering the page, otherwise, render a blank 401 page."]}),`
`,l(e.li,{children:[l(e.strong,{children:"Shared UI:"})," All pages share a common header showing the user's name and profile picture."]}),`
`]}),`
`,l(e.p,{children:"Instead of repeating the same code in each route, we can use layouts to automatically reuse common parts, and also to add middleware to the route."}),`
`,l(e.p,{children:["Take this ",l(e.code,{children:"src/routes"})," directory as an example:"]}),`
`,l(e.div,{"data-rehype-pretty-code-fragment":"",children:l(e.pre,{"data-language":"bash","data-theme":"default",children:l(e.code,{"data-language":"bash","data-theme":"default",children:[l(e.span,{class:"line",children:l(e.span,{style:{color:"#DCDCAA"},children:"src/"})}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#DCDCAA"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"routes/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"├──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"admin/"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"│"}),l(e.span,{style:{color:"#D4D4D4"},children:"   "}),l(e.span,{style:{color:"#CE9178"},children:"├──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"layout.tsx"}),l(e.span,{style:{color:"#D4D4D4"},children:"  <"}),l(e.span,{style:{color:"#CE9178"},children:"--"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"This"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"layout"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"is"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"used"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"for"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"all"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"pages"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"under"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"/admin/"}),l(e.span,{style:{color:"#569CD6"},children:"*"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"│"}),l(e.span,{style:{color:"#D4D4D4"},children:"   "}),l(e.span,{style:{color:"#CE9178"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"index.tsx"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"├──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"layout.tsx"}),l(e.span,{style:{color:"#D4D4D4"},children:"      <"}),l(e.span,{style:{color:"#CE9178"},children:"--"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"This"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"layout"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"is"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"used"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"for"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"all"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"pages"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#DCDCAA"},children:"└──"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"index.tsx"})]})]})})}),`
`,l(e.h3,{id:"middleware-layouts",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#middleware-layouts",children:l(e.span,{class:"icon icon-link"})}),"Middleware layouts"]}),`
`,l(e.p,{children:["Since layouts can implement request handling with ",l(e.code,{children:"onRequest"})," or ",l(e.code,{children:"onGet"}),", ",l(e.code,{children:"onPost"}),", ",l(e.code,{children:"onPut"}),", ",l(e.code,{children:"onDelete"}),", they can be used to implement middleware, for example, to validate the request cookies before rendering the page."]}),`
`,l(e.p,{children:["For the route ",l(e.code,{children:"https://example.com/admin"}),", the ",l(e.code,{children:"onRequest"})," methods will be executed in the following order:"]}),`
`,l(e.ol,{children:[`
`,l(e.li,{children:[l(e.code,{children:"src/routes/layout.tsx"}),"'s ",l(e.code,{children:"onRequest"})]}),`
`,l(e.li,{children:[l(e.code,{children:"src/routes/admin/layout.tsx"}),"'s ",l(e.code,{children:"onRequest"})]}),`
`,l(e.li,{children:[l(e.code,{children:"src/routes/admin/index.tsx"}),"'s component"]}),`
`]}),`
`,l(e.h3,{id:"nested-layouts",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#nested-layouts",children:l(e.span,{class:"icon icon-link"})}),"Nested layouts"]}),`
`,l(e.p,{children:["Layouts also ",l(e.strong,{children:"provide a way to add common UI to the rendered page"}),". For example, if we want to add a common header to all the routes, we can add a ",l(e.code,{children:"Header"})," component to the root layout."]}),`
`,l(e.p,{children:"For the given example, the Qwik components will be rendered in the following order:"}),`
`,l(e.ol,{children:[`
`,l(e.li,{children:[l(e.code,{children:"src/routes/layout.tsx"}),"'s component"]}),`
`,l(e.li,{children:[l(e.code,{children:"src/routes/admin/layout.tsx"}),"'s component"]}),`
`,l(e.li,{children:[l(e.code,{children:"src/routes/admin/index.tsx"}),"'s component"]}),`
`]}),`
`,l(e.div,{"data-rehype-pretty-code-fragment":"",children:l(e.pre,{"data-language":"tsx","data-theme":"default",children:l(e.code,{"data-language":"tsx","data-theme":"default",children:[l(e.span,{class:"line",children:[l(e.span,{style:{color:"#808080"},children:"<"}),l(e.span,{style:{color:"#4EC9B0"},children:"RootLayout"}),l(e.span,{style:{color:"#808080"},children:">"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"  "}),l(e.span,{style:{color:"#808080"},children:"<"}),l(e.span,{style:{color:"#4EC9B0"},children:"AdminLayout"}),l(e.span,{style:{color:"#808080"},children:">"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#808080"},children:"<"}),l(e.span,{style:{color:"#4EC9B0"},children:"AdminPage"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#808080"},children:"/>"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"  "}),l(e.span,{style:{color:"#808080"},children:"</"}),l(e.span,{style:{color:"#4EC9B0"},children:"AdminLayout"}),l(e.span,{style:{color:"#808080"},children:">"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#808080"},children:"</"}),l(e.span,{style:{color:"#4EC9B0"},children:"RootLayout"}),l(e.span,{style:{color:"#808080"},children:">"})]})]})})}),`
`,l(e.h2,{id:"spa-navigation",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#spa-navigation",children:l(e.span,{class:"icon icon-link"})}),"SPA navigation"]}),`
`,l(e.p,{children:["Qwik provides the ",l(e.code,{children:"<Link>"})," component and the ",l(e.code,{children:"useNavigate()"})," hook to refresh and navigate between pages."]}),`
`,l(e.p,{children:["The ",l(e.code,{children:"Link"})," is usually the recommend way to navigate because it uses the HTML ",l(e.code,{children:"<a>"})," tag, which is the most accessible way to navigate between pages."]}),`
`,l(e.p,{children:["However, if you need to navigate programmatically, you can use the ",l(e.code,{children:"useNavigate()"})," hook."]}),`
`,l(e.div,{"data-rehype-pretty-code-fragment":"",children:l(e.pre,{"data-language":"tsx","data-theme":"default",children:l(e.code,{"data-language":"tsx","data-theme":"default",children:[l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"import"}),l(e.span,{style:{color:"#D4D4D4"},children:" { "}),l(e.span,{style:{color:"#9CDCFE"},children:"component$"}),l(e.span,{style:{color:"#D4D4D4"},children:" } "}),l(e.span,{style:{color:"#C586C0"},children:"from"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"'@builder.io/qwik'"}),l(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"import"}),l(e.span,{style:{color:"#D4D4D4"},children:" { "}),l(e.span,{style:{color:"#9CDCFE"},children:"Link"}),l(e.span,{style:{color:"#D4D4D4"},children:", "}),l(e.span,{style:{color:"#9CDCFE"},children:"useNavigate"}),l(e.span,{style:{color:"#D4D4D4"},children:" } "}),l(e.span,{style:{color:"#C586C0"},children:"from"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"'@builder.io/qwik-city'"}),l(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,l(e.span,{class:"line",children:" "}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"export"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#C586C0"},children:"default"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#DCDCAA"},children:"component$"}),l(e.span,{style:{color:"#D4D4D4"},children:"(() "}),l(e.span,{style:{color:"#569CD6"},children:"=>"}),l(e.span,{style:{color:"#D4D4D4"},children:" {"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"  "}),l(e.span,{style:{color:"#569CD6"},children:"const"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#4FC1FF"},children:"nav"}),l(e.span,{style:{color:"#D4D4D4"},children:" = "}),l(e.span,{style:{color:"#DCDCAA"},children:"useNavigate"}),l(e.span,{style:{color:"#D4D4D4"},children:"();"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"  "}),l(e.span,{style:{color:"#C586C0"},children:"return"}),l(e.span,{style:{color:"#D4D4D4"},children:" ("})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#808080"},children:"<"}),l(e.span,{style:{color:"#569CD6"},children:"div"}),l(e.span,{style:{color:"#808080"},children:">"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"      "}),l(e.span,{style:{color:"#808080"},children:"<"}),l(e.span,{style:{color:"#4EC9B0"},children:"Link"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#9CDCFE"},children:"href"}),l(e.span,{style:{color:"#D4D4D4"},children:"="}),l(e.span,{style:{color:"#CE9178"},children:'"/about"'}),l(e.span,{style:{color:"#808080"},children:">"}),l(e.span,{style:{color:"#D4D4D4"},children:"About (prefered)"}),l(e.span,{style:{color:"#808080"},children:"</"}),l(e.span,{style:{color:"#4EC9B0"},children:"Link"}),l(e.span,{style:{color:"#808080"},children:">"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"      "}),l(e.span,{style:{color:"#808080"},children:"<"}),l(e.span,{style:{color:"#569CD6"},children:"button"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#9CDCFE"},children:"onClick$"}),l(e.span,{style:{color:"#D4D4D4"},children:"="}),l(e.span,{style:{color:"#569CD6"},children:"{"}),l(e.span,{style:{color:"#D4D4D4"},children:"() "}),l(e.span,{style:{color:"#569CD6"},children:"=>"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#DCDCAA"},children:"nav"}),l(e.span,{style:{color:"#D4D4D4"},children:"("}),l(e.span,{style:{color:"#CE9178"},children:"'/about'"}),l(e.span,{style:{color:"#D4D4D4"},children:")"}),l(e.span,{style:{color:"#569CD6"},children:"}"}),l(e.span,{style:{color:"#808080"},children:">"}),l(e.span,{style:{color:"#D4D4D4"},children:"About"}),l(e.span,{style:{color:"#808080"},children:"</"}),l(e.span,{style:{color:"#569CD6"},children:"button"}),l(e.span,{style:{color:"#808080"},children:">"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#808080"},children:"</"}),l(e.span,{style:{color:"#569CD6"},children:"div"}),l(e.span,{style:{color:"#808080"},children:">"})]}),`
`,l(e.span,{class:"line",children:l(e.span,{style:{color:"#D4D4D4"},children:"  );"})}),`
`,l(e.span,{class:"line",children:l(e.span,{style:{color:"#D4D4D4"},children:"});"})})]})})}),`
`,l(e.h3,{id:"refreshing",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#refreshing",children:l(e.span,{class:"icon icon-link"})}),"Refreshing"]}),`
`,l(e.p,{children:["You can use the ",l(e.code,{children:"Link"})," with the ",l(e.code,{children:"reload"})," prop to refresh the page."]}),`
`,l(e.p,{children:["You can also call the ",l(e.code,{children:"nav()"})," function from the ",l(e.code,{children:"useNavigate()"})," hook, without any arguments."]}),`
`,l(e.div,{"data-rehype-pretty-code-fragment":"",children:l(e.pre,{"data-language":"tsx","data-theme":"default",children:l(e.code,{"data-language":"tsx","data-theme":"default",children:[l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"import"}),l(e.span,{style:{color:"#D4D4D4"},children:" { "}),l(e.span,{style:{color:"#9CDCFE"},children:"component$"}),l(e.span,{style:{color:"#D4D4D4"},children:" } "}),l(e.span,{style:{color:"#C586C0"},children:"from"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"'@builder.io/qwik'"}),l(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"import"}),l(e.span,{style:{color:"#D4D4D4"},children:" { "}),l(e.span,{style:{color:"#9CDCFE"},children:"Link"}),l(e.span,{style:{color:"#D4D4D4"},children:", "}),l(e.span,{style:{color:"#9CDCFE"},children:"routeLoader$"}),l(e.span,{style:{color:"#D4D4D4"},children:", "}),l(e.span,{style:{color:"#9CDCFE"},children:"useNavigate"}),l(e.span,{style:{color:"#D4D4D4"},children:" } "}),l(e.span,{style:{color:"#C586C0"},children:"from"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#CE9178"},children:"'@builder.io/qwik-city'"}),l(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,l(e.span,{class:"line",children:" "}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"export"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#569CD6"},children:"const"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#4FC1FF"},children:"useServerTime"}),l(e.span,{style:{color:"#D4D4D4"},children:" = "}),l(e.span,{style:{color:"#DCDCAA"},children:"routeLoader$"}),l(e.span,{style:{color:"#D4D4D4"},children:"(() "}),l(e.span,{style:{color:"#569CD6"},children:"=>"}),l(e.span,{style:{color:"#D4D4D4"},children:" {"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"  "}),l(e.span,{style:{color:"#6A9955"},children:"// This will re-execute in the server when the page refreshes"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"  "}),l(e.span,{style:{color:"#C586C0"},children:"return"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#9CDCFE"},children:"Date"}),l(e.span,{style:{color:"#D4D4D4"},children:"."}),l(e.span,{style:{color:"#DCDCAA"},children:"now"}),l(e.span,{style:{color:"#D4D4D4"},children:"();"})]}),`
`,l(e.span,{class:"line",children:l(e.span,{style:{color:"#D4D4D4"},children:"});"})}),`
`,l(e.span,{class:"line",children:" "}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#C586C0"},children:"export"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#C586C0"},children:"default"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#DCDCAA"},children:"component$"}),l(e.span,{style:{color:"#D4D4D4"},children:"(() "}),l(e.span,{style:{color:"#569CD6"},children:"=>"}),l(e.span,{style:{color:"#D4D4D4"},children:" {"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"  "}),l(e.span,{style:{color:"#569CD6"},children:"const"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#4FC1FF"},children:"nav"}),l(e.span,{style:{color:"#D4D4D4"},children:" = "}),l(e.span,{style:{color:"#DCDCAA"},children:"useNavigate"}),l(e.span,{style:{color:"#D4D4D4"},children:"();"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"  "}),l(e.span,{style:{color:"#569CD6"},children:"const"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#4FC1FF"},children:"serverTime"}),l(e.span,{style:{color:"#D4D4D4"},children:" = "}),l(e.span,{style:{color:"#DCDCAA"},children:"useServerTime"}),l(e.span,{style:{color:"#D4D4D4"},children:"();"})]}),`
`,l(e.span,{class:"line",children:" "}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"  "}),l(e.span,{style:{color:"#C586C0"},children:"return"}),l(e.span,{style:{color:"#D4D4D4"},children:" ("})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#808080"},children:"<"}),l(e.span,{style:{color:"#569CD6"},children:"div"}),l(e.span,{style:{color:"#808080"},children:">"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"      "}),l(e.span,{style:{color:"#808080"},children:"<"}),l(e.span,{style:{color:"#4EC9B0"},children:"Link"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#9CDCFE"},children:"reload"}),l(e.span,{style:{color:"#808080"},children:">"}),l(e.span,{style:{color:"#D4D4D4"},children:"Refresh (better accesibility)"}),l(e.span,{style:{color:"#808080"},children:"</"}),l(e.span,{style:{color:"#4EC9B0"},children:"Link"}),l(e.span,{style:{color:"#808080"},children:">"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"      "}),l(e.span,{style:{color:"#808080"},children:"<"}),l(e.span,{style:{color:"#569CD6"},children:"button"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#9CDCFE"},children:"onClick$"}),l(e.span,{style:{color:"#D4D4D4"},children:"="}),l(e.span,{style:{color:"#569CD6"},children:"{"}),l(e.span,{style:{color:"#D4D4D4"},children:"() "}),l(e.span,{style:{color:"#569CD6"},children:"=>"}),l(e.span,{style:{color:"#D4D4D4"},children:" "}),l(e.span,{style:{color:"#DCDCAA"},children:"nav"}),l(e.span,{style:{color:"#D4D4D4"},children:"()"}),l(e.span,{style:{color:"#569CD6"},children:"}"}),l(e.span,{style:{color:"#808080"},children:">"}),l(e.span,{style:{color:"#D4D4D4"},children:"Refresh"}),l(e.span,{style:{color:"#808080"},children:"</"}),l(e.span,{style:{color:"#569CD6"},children:"button"}),l(e.span,{style:{color:"#808080"},children:">"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"      "}),l(e.span,{style:{color:"#808080"},children:"<"}),l(e.span,{style:{color:"#569CD6"},children:"p"}),l(e.span,{style:{color:"#808080"},children:">"}),l(e.span,{style:{color:"#D4D4D4"},children:"Server time: "}),l(e.span,{style:{color:"#569CD6"},children:"{"}),l(e.span,{style:{color:"#9CDCFE"},children:"serverTime"}),l(e.span,{style:{color:"#D4D4D4"},children:"."}),l(e.span,{style:{color:"#9CDCFE"},children:"value"}),l(e.span,{style:{color:"#569CD6"},children:"}"}),l(e.span,{style:{color:"#808080"},children:"</"}),l(e.span,{style:{color:"#569CD6"},children:"p"}),l(e.span,{style:{color:"#808080"},children:">"})]}),`
`,l(e.span,{class:"line",children:[l(e.span,{style:{color:"#D4D4D4"},children:"    "}),l(e.span,{style:{color:"#808080"},children:"</"}),l(e.span,{style:{color:"#569CD6"},children:"div"}),l(e.span,{style:{color:"#808080"},children:">"})]}),`
`,l(e.span,{class:"line",children:l(e.span,{style:{color:"#D4D4D4"},children:"  );"})}),`
`,l(e.span,{class:"line",children:l(e.span,{style:{color:"#D4D4D4"},children:"});"})})]})})}),`
`,l(e.blockquote,{children:[`
`,l(e.p,{children:["When the page refreshes, all the matching ",l(e.code,{children:"routeLoader$"})," and server handlers (",l(e.code,{children:"onRequest"}),") will reexecute in the server and the UI will re-render accordingly."]}),`
`]}),`
`,l(e.blockquote,{children:[`
`,l(e.p,{children:["While refreshing the page, the ",l(e.code,{children:"isNavigating"})," boolean from ",l(e.code,{children:"useLocation()"})," will be ",l(e.code,{children:"true"})," until the page is fully rendered."]}),`
`]}),`
`,l(e.h2,{id:"request-event",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#request-event",children:l(e.span,{class:"icon icon-link"})}),"Request Event"]}),`
`,l(e.p,{children:["Each request handler, such as ",l(e.code,{children:"onRequest"}),", ",l(e.code,{children:"onGet"}),", ",l(e.code,{children:"onPost"}),", etc., are passed in a ",l(e.code,{children:"RequestEvent"})," object as the first argument to the handler. The ",l(e.code,{children:"RequestEvent"})," object contains utility functions and properties to get and set values to the server's request and response. This object contains the following properties:"]}),`
`,l(e.ul,{children:[`
`,l(e.li,{children:[l(e.code,{children:"basePathname"}),": The base pathname of the request, which can be configured at build time. Defaults to ",l(e.code,{children:"/"}),"."]}),`
`,l(e.li,{children:[l(e.code,{children:"cacheControl"}),": Convenience function to set the ",l(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control",children:"Cache-Control"})," response header."]}),`
`,l(e.li,{children:[l(e.code,{children:"cookie"}),": HTTP request and response ",l(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies",children:"cookies"}),". Use the ",l(e.code,{children:"get()"})," method to retrieve a request cookie value. Use the ",l(e.code,{children:"set()"})," method to set a response cookie value."]}),`
`,l(e.li,{children:[l(e.code,{children:"env"}),": Platform provided environment variables."]}),`
`,l(e.li,{children:[l(e.code,{children:"error"}),": When called, the response will immediately end with the given status code. This could be useful to end a response with ",l(e.code,{children:"404"}),", and use the 404 handler in the routes directory. See ",l(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status",children:"Status codes"})," for which status code should be used."]}),`
`,l(e.li,{children:[l(e.code,{children:"getWritableStream"}),": Low-level access to write to the HTTP response stream. Once ",l(e.code,{children:"getWritableStream()"})," is called, the status and headers can no longer be modified and will be sent over the network."]}),`
`,l(e.li,{children:[l(e.code,{children:"headers"}),": HTTP ",l(e.a,{href:"https://developer.mozilla.org/en-US/docs/Glossary/Response_header",children:"response headers"}),"."]}),`
`,l(e.li,{children:[l(e.code,{children:"html"}),": Convenience method to send an HTML body response. The response will be automatically set the ",l(e.code,{children:"Content-Type"})," header to",l(e.code,{children:"text/html; charset=utf-8"}),". An ",l(e.code,{children:"html()"})," response can only be called once."]}),`
`,l(e.li,{children:[l(e.code,{children:"json"}),": Convenience method to JSON stringify the data and send it in the response. The response will be automatically set the ",l(e.code,{children:"Content-Type"})," header to",l(e.code,{children:"application/json; charset=utf-8"}),". A ",l(e.code,{children:"json()"})," response can only be called once."]}),`
`,l(e.li,{children:[l(e.code,{children:"locale"}),": Which locale the content is in. The locale value can be retrieved from selected methods using ",l(e.code,{children:"getLocale()"}),"."]}),`
`,l(e.li,{children:[l(e.code,{children:"method"}),": HTTP request ",l(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods",children:"method"})," value."]}),`
`,l(e.li,{children:[l(e.code,{children:"next"}),": Call the next request handler. This is useful for middleware."]}),`
`,l(e.li,{children:[l(e.code,{children:"params"}),": URL path params which have been parsed from the current url pathname segments. Use ",l(e.code,{children:"query"})," to instead retrieve the query string search params."]}),`
`,l(e.li,{children:[l(e.code,{children:"parseBody"}),": This method will check the request headers for a ",l(e.code,{children:"Content-Type"})," header and parse the body accordingly. It supports ",l(e.code,{children:"application/json"}),", ",l(e.code,{children:"application/x-www-form-urlencoded"}),", and ",l(e.code,{children:"multipart/form-data"})," content types. If the ",l(e.code,{children:"Content-Type"})," header is not set, it will return ",l(e.code,{children:"null"}),"."]}),`
`,l(e.li,{children:[l(e.code,{children:"pathname"}),": URL pathname value. Does not include the protocol, domain, query string (search params) or hash."]}),`
`,l(e.li,{children:[l(e.code,{children:"platform"}),": Platform specific data and functions."]}),`
`,l(e.li,{children:[l(e.code,{children:"query"}),": URL query string ",l(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams",children:"URLSearchParams"})," value. Use ",l(e.code,{children:"params"})," to instead retrieve the route params found in the url pathname."]}),`
`,l(e.li,{children:[l(e.code,{children:"redirect"}),": URL to redirect to. When called, the response will immediately end with the correct redirect status and headers. See ",l(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Redirections",children:"Redirects"})," for which status code should be used."]}),`
`,l(e.li,{children:[l(e.code,{children:"request"}),": HTTP ",l(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Request",children:"Request"}),"."]}),`
`,l(e.li,{children:[l(e.code,{children:"send"}),": Send a body response. The ",l(e.code,{children:"Content-Type"})," response header is not automatically set when using ",l(e.code,{children:"send()"})," and must be set manually. A ",l(e.code,{children:"send()"})," response can only be called once."]}),`
`,l(e.li,{children:[l(e.code,{children:"sharedMap"}),": Shared Map across all the request handlers. Every HTTP request will get a new instance of the shared map. The shared map is useful for sharing data between request handlers."]}),`
`,l(e.li,{children:[l(e.code,{children:"status"}),": HTTP response ",l(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status",children:"status code"}),". Sets the status code when called with an argument. Always returns the status code, so calling ",l(e.code,{children:"status()"})," without an argument will can be used to return the current status code."]}),`
`,l(e.li,{children:[l(e.code,{children:"text"}),": Convenience method to send an text body response. The response will be automatically set the ",l(e.code,{children:"Content-Type"})," header to",l(e.code,{children:"text/plain; charset=utf-8"}),". An ",l(e.code,{children:"text()"})," response can only be called once."]}),`
`,l(e.li,{children:[l(e.code,{children:"url"}),": HTTP request ",l(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/URL",children:"URL"}),"."]}),`
`]}),`
`,l(e.h2,{id:"advanced-routing",children:[l(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#advanced-routing",children:l(e.span,{class:"icon icon-link"})}),"Advanced routing"]}),`
`,l(e.p,{children:"Qwik City also supports:"}),`
`,l(e.ul,{children:[`
`,l(e.li,{children:l(e.a,{href:"/docs/advanced/routing/",children:"Route Parameters"})}),`
`,l(e.li,{children:l(e.a,{href:"/docs/advanced/routing/#nested-layout",children:"Nested layouts"})}),`
`,l(e.li,{children:l(e.a,{href:"/docs/advanced/menu/",children:"Menus"})}),`
`]}),`
`,l(e.p,{children:"These are discussed later."})]})}function i(n={}){const{wrapper:e}=n.components||{};return e?l(e,Object.assign({},n,{children:l(s,n)})):s(n)}const p=()=>r(c,{children:r(i,{},3,null)},3,"dqTbl2qU");export{p as default,h as frontmatter,d as head,a as headings};
