import{i as v,y as C,j as $,e as O,C as x,f as D,z as M,d as Z,c as f,w as g,s as h,g as J,_ as m,$ as V}from"./q-71956c83.js";import{i as j}from"./q-e36b6a77.js";const z=()=>{const[e]=v();return[`rotateX(${e.value.rotateX}deg)`,`rotateY(${e.value.rotateY}deg)`,`rotateZ(${e.value.rotateZ}deg)`,`translateX(${-e.value.translateX}px)`,`translateY(${-e.value.translateY}px)`,`translateZ(${-e.value.translateZ}px)`].join(" ")},B=({track:e})=>{const[n,o]=v();if(e(o),o.callout){const t=o.element.getBoundingClientRect(),i=t.bottom+window.scrollY,a=t.left+window.scrollX;n.value={display:"block",position:"absolute",top:i+"px",left:a+"px",zIndex:"2"}}else n.value={display:"none"}},H={component$:{nextToken:"(",html:`Declares component in Qwik. The <code>$</code> suffix tells 
  Qwik Optimizer to pull out the component into a separate lazy-executed (lazy-loaded) symbol so
  that the component only gets download to the client if it is needed for re-rendering.`},routeLoader$:{nextToken:"(",html:`Creates a <code>use____()</code> method which loads data for the route. 
  the data loading runs on the server, but the data can be used on the client. The <code>$</code> allows the
  client code to reffer to server function so that the type information can flow, without forcing the bundler
  to bundle the server code on the client.`},onInput$:{html:`Listen to <code>input</code> events. The <code>$</code> allows the listener to be resumeb
  on the client. The listener is eagrely loaded in browser chache, but is broght into the application only when
  event happens.`},server$:{nextToken:"(",html:"Invoke the function on the server. (Similar to RPC.)"}};function R(e,n){if(e){const o=H[e];return o&&o.nextToken&&o.nextToken!==n?null:o}return null}function k(e,n){const o=[];return e.forEach((t,i)=>{var u;const a=t.layer==n&&R(t.text,(u=e[i+1])==null?void 0:u.text),c=["layer-"+t.layer,t.layer===n?"code-"+t.type:"code-transparent"];a&&c.push("callout-anchor"),o.push(`<span class="${c.join(" ")}">${t.text.replace("<","&lt;")}</span>`)}),o.join("")}function W(e){let n=0;const o=[];let t=0,i=t;const a=[];for(;t<e.length;){const r=e[t++],s=e[t];r=='"'?c("string",d=>d!=='"',!0):r=="'"?c("string",d=>d!=="'",!0):S(r)?c("whitespace",S):w(r)?c("ident",w):r==="<"&&(w(s)||s=="/"||s==">")?c("JSX-brace",()=>!1):r=="="&&s==">"?c("decl",d=>d===">",!0):X(r)?c("brace",()=>!1):P(r)?c("brace",()=>!1):c("misc",()=>!1)}return a;function c(r,s,d){for(;t<e.length;){const _=e[t];if(!s(_)){d&&t++;break}t++}u(r)}function u(r){var _,E;const s=e.substring(i,t);if(r=="ident"){const p=(_=o[o.length-1])==null?void 0:_.type;p!=="JSX-brace"&&(l(":")||l("as"))?r="type":e[t]=="("?r="invocation":p=="JSX-brace"&&(r=I(s[0])?"JSX-component":"JSX-element")}if(P(s)){const p=o.pop();n=p.layer,r=p.type}const d={type:L[s]||r,from:i,to:t,text:s,layer:n};if(X(s)){const p=a[a.length-1],T=a[a.length-2];s==="("&&((E=p==null?void 0:p.text)!=null&&E.endsWith("$"))?n=q[p.text]||0:s=="{"&&(p==null?void 0:p.text)==="="&&(T!=null&&T.text.endsWith("$"))&&(n=2),o.push(d)}a.push(d),i=t}function l(r){for(let s=a.length-1;s>=0;s--){const d=a[s];if(d.type!=="whitespace")return d.text==r}return!1}}function S(e){return e==" "||e==`
`}function X(e){return e=="{"||e=="("||e=="["||e=="<"}function P(e){return e=="}"||e==")"||e=="]"||e==">"}function I(e){return"A"<=e&&e<="Z"}function F(e){return"a"<=e&&e<="z"}function w(e){return F(e)||I(e)||e==="_"||e==="$"}const L={};"import|function|default|return|export|as|await|async".split("|").forEach(e=>L[e]="keyword");"const|let|var".split("|").forEach(e=>L[e]="decl");const q={routeLoader$:0,routeAction$:0,component$:1,server$:0},G=`import { component$ } from "@builder.io/qwik";
import { Form, routeAction$, routeLoader$ } from "@builder.io/qwik-city";

const useDice = routeLoader$(() => Math.round(Math.random() * 6) + 1);
const useBetAction = routeAction$((params) => {
  console.log(params.up ? "UP" : params.down ? "DOWN" : "???");
});

export default component$(() => {
  const dice = useDice();
  const betAction = useBetAction();
  return (
    <>
      <span>Roll: {dice}</span>
      <Form action={betAction}>
        <button name="up">üëç</button>
        <button name="down">üëé</button>
      </Form>
    </>
  );
});
`,A=W(G),Q=k(A,0),U=k(A,1),N=k(A,2),K=()=>{C(h(()=>m(()=>Promise.resolve().then(()=>y),void 0),"s_EIR515VIBX8"));const e=$(),n=$({display:"none"}),o=O({element:null,callout:null}),t=$(0),i=x(h(()=>m(()=>Promise.resolve().then(()=>y),void 0),"s_PEpmvALMmbA",[t])),a=x(h(()=>m(()=>Promise.resolve().then(()=>y),void 0),"s_gGJRl0GCF08",[i])),c=x(h(()=>m(()=>Promise.resolve().then(()=>y),void 0),"s_g64SbORDA7Q",[i])),u=x(h(()=>m(()=>Promise.resolve().then(()=>y),void 0),"s_roqgITAt7g4",[i]));return D(h(()=>m(()=>Promise.resolve().then(()=>y),void 0),"s_HYc6gX5Remc",[n,o])),M("scroll",h(()=>m(()=>Promise.resolve().then(()=>y),void 0),"s_Y0r07u02E0M",[o,t,e])),Z(J,{children:[f("div",{ref:e},{class:"sticky"},f("ul",null,{class:"layers",style:g(l=>({"--layer-alpha":l.value.layerAlpha,"--opacity":l.value.opacity}),[i]),onMouseMove$:h(()=>m(()=>Promise.resolve().then(()=>y),void 0),"s_0L3acOAgd6g",[o,e])},[f("li",null,{class:"layer layer-0",style:g(l=>({marginLeft:-1*l.value.marginLeft+"px",marginTop:-1*l.value.marginTop+"px"}),[i])},f("div",null,{dangerouslySetInnerHTML:Q,style:g(l=>({transform:l.value}),[a])},null,3,null),3,null),f("li",null,{class:"layer layer-1"},f("div",null,{style:g(l=>({transform:l.value}),[c]),dangerouslySetInnerHTML:U},null,3,null),3,null),f("li",null,{class:"layer layer-2",style:g(l=>({marginLeft:1*l.value.marginLeft+"px",marginTop:1*l.value.marginTop+"px"}),[i])},f("div",null,{style:g(l=>({transform:l.value}),[u]),dangerouslySetInnerHTML:N},null,3,null),3,null)],3,null),3,null),f("div",null,{class:"callout",style:g(l=>l.value,[n]),dangerouslySetInnerHTML:g(l=>{var r;return(r=l.callout)==null?void 0:r.html},[o])},null,3,null)]},1,"4F_0")},ee=`.sticky{position:sticky;bottom:100px;z-index:1;width:100%;background-color:#000}ul.layers{display:block;margin:0;padding:0}li.layer{display:block;position:absolute;top:0;margin:0;transform-style:preserve-3d;width:630px;perspective:5000px;font-weight:500}li.layer.layer-0{position:static}li.layer>div{padding:1em}li.layer-0>div{background-color:rgb(15,83,172,var(--opacity))}li.layer-1>div{background-color:rgb(110,110,110,var(--opacity))}li.layer-2>div{background-color:rgb(78,50,120,var(--opacity))}li.layer-0 span.layer-0{background-color:rgb(29,166,243,var(--layer-alpha))}li.layer-1 span.layer-1{background-color:rgb(255,255,255,var(--layer-alpha))}li.layer-2 span.layer-2{background-color:rgb(155,99,241,var(--layer-alpha))}#srcOut,li.layer{white-space:pre}.code{font-family:Courier New,Courier,monospace;font-weight:900}.code-keyword{color:#1da6f3}.code-brace{color:#fed10b}.code-ident{color:#8dd3fe}.code-misc{color:#cacaca}.code-decl{color:#4689cc}.code-string{color:#c27f65}.code-invocation{color:#d4d699}.code-type{color:#43bfa1}.code-JSX-element{color:#4689cc}.code-JSX-brace{color:#6d6d6d}.code-JSX-component{color:#42bb9d}.code-JSX-attr{color:#8dd3fe}.code-transparent{color:#0000}.callout{margin-top:10px;width:300px;padding:1em;background-color:#a9a9a9;border-radius:5px;border:1px solid black}.callout:before{content:"";position:absolute;width:0;height:0;left:23px;top:-26px;border:10px solid transparent;border-bottom:16px solid black;z-index:2}.callout:after{content:"";position:absolute;width:0;height:0;left:25px;top:-22px;border:8px solid transparent;border-bottom:14px solid darkgrey;z-index:3}
`,te=ee,oe=e=>{var a;const[n,o]=v(),t=o.value.querySelectorAll("span.callout-anchor");let i=!1;for(let c=0;c<t.length;c++){const u=t[c],l=u.getBoundingClientRect();if(j(e,l)){i=!0,n.element=u;const r=u.textContent,s=(a=u.nextSibling)==null?void 0:a.textContent;n.callout=R(r,s)}}i||(n.element=null,n.callout=null)},b=[{pos:0,rotateX:0,rotateY:0,rotateZ:0,translateX:0,translateY:0,translateZ:0,marginLeft:0,marginTop:0,opacity:0,layerAlpha:0},{pos:.5,rotateX:0,rotateY:0,rotateZ:0,translateX:0,translateY:0,translateZ:0,marginLeft:0,marginTop:0,opacity:0,layerAlpha:.2},{pos:1,rotateX:0,rotateY:50,rotateZ:0,translateX:0,translateY:0,translateZ:0,marginLeft:420,marginTop:0,opacity:1,layerAlpha:0}];function ne(e){const n=Y(e,0),o=Y(e,1);return re(e,n,o)}function Y(e,n){let o=0;for(let t=0;t<b.length;t++)b[t].pos<=e&&(o=t);return b[o+n]||b[b.length-1]}function re(e,n,o){if(n.pos===o.pos)return o;const t=(e-n.pos)/(o.pos-n.pos),i={};return Object.keys(n).forEach(a=>{i[a]=n[a]*(1-t)+o[a]*t}),i}const le=()=>{const[e]=v();return ne(e.value)},ae=()=>{const[e]=v();return[`rotateX(${e.value.rotateX}deg)`,`rotateY(${e.value.rotateY}deg)`,`rotateZ(${e.value.rotateZ}deg)`].join(" ")},se=e=>{const[n,o,t]=v(),a=t.value.parentElement.getBoundingClientRect(),c=t.value.getBoundingClientRect(),u=window.scrollY,l=a.height-c.height,r=u+a.top,s=Math.max(0,Math.min(1,(u-r)/l));o.value=s,n.element=null,n.callout=null},ie=()=>{const[e]=v();return[`rotateX(${e.value.rotateX}deg)`,`rotateY(${e.value.rotateY}deg)`,`rotateZ(${e.value.rotateZ}deg)`,`translateX(${e.value.translateX}px)`,`translateY(${e.value.translateY}px)`,`translateZ(${e.value.translateZ}px)`].join(" ")},y=Object.freeze(Object.defineProperty({__proto__:null,_hW:V,s_0CiVfJoVInA:K,s_0L3acOAgd6g:oe,s_EIR515VIBX8:te,s_HYc6gX5Remc:B,s_PEpmvALMmbA:le,s_Y0r07u02E0M:se,s_g64SbORDA7Q:ae,s_gGJRl0GCF08:ie,s_roqgITAt7g4:z},Symbol.toStringTag,{value:"Module"}));export{V as _hW,K as s_0CiVfJoVInA,oe as s_0L3acOAgd6g,te as s_EIR515VIBX8,B as s_HYc6gX5Remc,le as s_PEpmvALMmbA,se as s_Y0r07u02E0M,ae as s_g64SbORDA7Q,ie as s_gGJRl0GCF08,z as s_roqgITAt7g4};
