import{d as r,F as t,H as n,g as c}from"./q-71956c83.js";const i=[{text:"Redirects",id:"redirects",level:1}],d={title:"Qwik City - Redirects",meta:[],styles:[],links:[],frontmatter:{contributors:["adamdbradley","manucorporat","mhevery"]}},h={title:"Qwik City - Redirects",contributors:["adamdbradley","manucorporat","mhevery"]};function s(l){const e=Object.assign({h1:"h1",a:"a",span:"span",p:"p",div:"div",pre:"pre",code:"code",ul:"ul",li:"li"},l.components);return n(c,{children:[n(e.h1,{id:"redirects",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#redirects",children:n(e.span,{class:"icon icon-link"})}),"Redirects"]}),`
`,n(e.p,{children:"Sometimes you want to redirect a user from the current page to another page."}),`
`,n(e.p,{children:"Let's say a user tries to go to a dashboard page but has not logged in yet. We want them to be redirected to a login page so they can be authenticated."}),`
`,n(e.div,{"data-rehype-pretty-code-fragment":"",children:[n(e.div,{"data-rehype-pretty-code-title":"","data-language":"tsx","data-theme":"default",children:"src/routes/dashboard.tsx"}),n(e.pre,{"data-language":"tsx","data-theme":"default",children:n(e.code,{"data-language":"tsx","data-theme":"default",children:[n(e.span,{class:"line",children:[n(e.span,{style:{color:"#C586C0"},children:"import"}),n(e.span,{style:{color:"#D4D4D4"},children:" "}),n(e.span,{style:{color:"#C586C0"},children:"type"}),n(e.span,{style:{color:"#D4D4D4"},children:" { "}),n(e.span,{style:{color:"#9CDCFE"},children:"RequestEvent"}),n(e.span,{style:{color:"#D4D4D4"},children:" } "}),n(e.span,{style:{color:"#C586C0"},children:"from"}),n(e.span,{style:{color:"#D4D4D4"},children:" "}),n(e.span,{style:{color:"#CE9178"},children:"'@builder.io/qwik-city'"}),n(e.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,n(e.span,{class:"line",children:[n(e.span,{style:{color:"#C586C0"},children:"import"}),n(e.span,{style:{color:"#D4D4D4"},children:" { "}),n(e.span,{style:{color:"#9CDCFE"},children:"checkAuthorization"}),n(e.span,{style:{color:"#D4D4D4"},children:" } "}),n(e.span,{style:{color:"#C586C0"},children:"from"}),n(e.span,{style:{color:"#D4D4D4"},children:" "}),n(e.span,{style:{color:"#CE9178"},children:"'../auth'"}),n(e.span,{style:{color:"#D4D4D4"},children:"; "}),n(e.span,{style:{color:"#6A9955"},children:"// Your authorization code"})]}),`
`,n(e.span,{class:"line",children:[n(e.span,{style:{color:"#C586C0"},children:"import"}),n(e.span,{style:{color:"#D4D4D4"},children:" "}),n(e.span,{style:{color:"#C586C0"},children:"type"}),n(e.span,{style:{color:"#D4D4D4"},children:" { "}),n(e.span,{style:{color:"#9CDCFE"},children:"DashboardData"}),n(e.span,{style:{color:"#D4D4D4"},children:" } "}),n(e.span,{style:{color:"#C586C0"},children:"from"}),n(e.span,{style:{color:"#D4D4D4"},children:" "}),n(e.span,{style:{color:"#CE9178"},children:"'../types'"}),n(e.span,{style:{color:"#D4D4D4"},children:"; "}),n(e.span,{style:{color:"#6A9955"},children:"// Your types"})]}),`
`,n(e.span,{class:"line",children:" "}),`
`,n(e.span,{class:"line",children:[n(e.span,{style:{color:"#C586C0"},children:"export"}),n(e.span,{style:{color:"#D4D4D4"},children:" "}),n(e.span,{style:{color:"#569CD6"},children:"const"}),n(e.span,{style:{color:"#D4D4D4"},children:" "}),n(e.span,{style:{color:"#DCDCAA"},children:"onGet"}),n(e.span,{style:{color:"#D4D4D4"},children:" = "}),n(e.span,{style:{color:"#569CD6"},children:"async"}),n(e.span,{style:{color:"#D4D4D4"},children:" ({ "}),n(e.span,{style:{color:"#9CDCFE"},children:"cookie"}),n(e.span,{style:{color:"#D4D4D4"},children:", "}),n(e.span,{style:{color:"#9CDCFE"},children:"redirect"}),n(e.span,{style:{color:"#D4D4D4"},children:" }: "}),n(e.span,{style:{color:"#4EC9B0"},children:"RequestEvent"}),n(e.span,{style:{color:"#D4D4D4"},children:") "}),n(e.span,{style:{color:"#569CD6"},children:"=>"}),n(e.span,{style:{color:"#D4D4D4"},children:" {"})]}),`
`,n(e.span,{class:"line",children:[n(e.span,{style:{color:"#D4D4D4"},children:"  "}),n(e.span,{style:{color:"#569CD6"},children:"const"}),n(e.span,{style:{color:"#D4D4D4"},children:" "}),n(e.span,{style:{color:"#4FC1FF"},children:"isAuthorized"}),n(e.span,{style:{color:"#D4D4D4"},children:" = "}),n(e.span,{style:{color:"#DCDCAA"},children:"checkAuthorization"}),n(e.span,{style:{color:"#D4D4D4"},children:"("}),n(e.span,{style:{color:"#9CDCFE"},children:"cookie"}),n(e.span,{style:{color:"#D4D4D4"},children:"."}),n(e.span,{style:{color:"#DCDCAA"},children:"get"}),n(e.span,{style:{color:"#D4D4D4"},children:"("}),n(e.span,{style:{color:"#CE9178"},children:"'cookie'"}),n(e.span,{style:{color:"#D4D4D4"},children:"));"})]}),`
`,n(e.span,{class:"line",children:" "}),`
`,n(e.span,{class:"line",children:[n(e.span,{style:{color:"#D4D4D4"},children:"  "}),n(e.span,{style:{color:"#C586C0"},children:"if"}),n(e.span,{style:{color:"#D4D4D4"},children:" (!"}),n(e.span,{style:{color:"#9CDCFE"},children:"isAuthorized"}),n(e.span,{style:{color:"#D4D4D4"},children:") {"})]}),`
`,n(e.span,{class:"line",children:[n(e.span,{style:{color:"#D4D4D4"},children:"    "}),n(e.span,{style:{color:"#6A9955"},children:"// User is not authorized!"})]}),`
`,n(e.span,{class:"line",children:[n(e.span,{style:{color:"#D4D4D4"},children:"    "}),n(e.span,{style:{color:"#6A9955"},children:"// throw the redirect response to"})]}),`
`,n(e.span,{class:"line",children:[n(e.span,{style:{color:"#D4D4D4"},children:"    "}),n(e.span,{style:{color:"#6A9955"},children:"// relocate the user to the log-in page"})]}),`
`,n(e.span,{class:"line",children:[n(e.span,{style:{color:"#D4D4D4"},children:"    "}),n(e.span,{style:{color:"#C586C0"},children:"throw"}),n(e.span,{style:{color:"#D4D4D4"},children:" "}),n(e.span,{style:{color:"#DCDCAA"},children:"redirect"}),n(e.span,{style:{color:"#D4D4D4"},children:"("}),n(e.span,{style:{color:"#B5CEA8"},children:"302"}),n(e.span,{style:{color:"#D4D4D4"},children:", "}),n(e.span,{style:{color:"#CE9178"},children:"'/login'"}),n(e.span,{style:{color:"#D4D4D4"},children:");"})]}),`
`,n(e.span,{class:"line",children:[n(e.span,{style:{color:"#D4D4D4"},children:"  } "}),n(e.span,{style:{color:"#C586C0"},children:"else"}),n(e.span,{style:{color:"#D4D4D4"},children:" {"})]}),`
`,n(e.span,{class:"line",children:[n(e.span,{style:{color:"#D4D4D4"},children:"    "}),n(e.span,{style:{color:"#6A9955"},children:"// ..."})]}),`
`,n(e.span,{class:"line",children:n(e.span,{style:{color:"#D4D4D4"},children:"  }"})}),`
`,n(e.span,{class:"line",children:n(e.span,{style:{color:"#D4D4D4"},children:"};"})})]})})]}),`
`,n(e.p,{children:["The ",n(e.code,{children:"redirect()"})," function, which was destructured in the RequestHandler function arguments, takes a redirect status code and URL."]}),`
`,n(e.div,{"data-rehype-pretty-code-fragment":"",children:n(e.pre,{"data-language":"tsx","data-theme":"default",children:n(e.code,{"data-language":"tsx","data-theme":"default",children:n(e.span,{class:"line",children:[n(e.span,{style:{color:"#C586C0"},children:"throw"}),n(e.span,{style:{color:"#D4D4D4"},children:" "}),n(e.span,{style:{color:"#DCDCAA"},children:"redirect"}),n(e.span,{style:{color:"#D4D4D4"},children:"("}),n(e.span,{style:{color:"#B5CEA8"},children:"302"}),n(e.span,{style:{color:"#D4D4D4"},children:", "}),n(e.span,{style:{color:"#CE9178"},children:"'/login'"}),n(e.span,{style:{color:"#D4D4D4"},children:");"})]})})})}),`
`,n(e.p,{children:[n(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#redirection_messages",children:"Common redirect status codes"}),":"]}),`
`,n(e.ul,{children:[`
`,n(e.li,{children:[n(e.code,{children:"301"}),": Moved Permanently. This and all future requests should be directed to the given URI."]}),`
`,n(e.li,{children:[n(e.code,{children:"302"}),": Found. This response code means that the URI of requested resource has been changed temporarily. Further changes in the URI might be made in the future. Therefore, this same URI should be used by the client in future requests."]}),`
`,n(e.li,{children:[n(e.code,{children:"307"}),": Temporary Redirect. The server sends this response to direct the client to get the requested resource at another URI with the same method that was used in the prior request. This has the same semantics as the 302 Found HTTP response code, with the exception that the user agent must not change the HTTP method used: if a POST was used in the first request, a POST must be used in the second request."]}),`
`,n(e.li,{children:[n(e.code,{children:"308"}),": Permanent Redirect. This means that the resource is now permanently located at another URI, specified by the ",n(e.code,{children:"Location"})," HTTP Response header. This has the same semantics as the 301 Moved Permanently HTTP response code, with the exception that the user agent must not change the HTTP method used: if a POST was used in the first request, a POST must be used in the second request."]}),`
`]}),`
`,n(e.p,{children:["If you do not provide a status code, Qwik City will default to a ",n(e.code,{children:"302"})," Found status."]}),`
`,n(e.p,{children:["Read more about redirect status codes ",n(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#redirection_messages",children:"here"}),"."]})]})}function o(l={}){const{wrapper:e}=l.components||{};return e?n(e,Object.assign({},l,{children:n(s,l)})):s(l)}const D=()=>r(t,{children:r(o,{},3,null)},3,"BCdFjQCW");export{D as default,h as frontmatter,d as head,i as headings};
